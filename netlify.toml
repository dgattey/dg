# Redirects dgattey.netlify.com to dylangattey.com
[[redirects]]
	from = "https://dgattey.netlify.com/*"
	to = "https://dylangattey.com/:splat"
	status = 301
	force = true

# Hide offline page from user access if hitting it directly
[[redirects]]
	from = "https://dylangattey.com/offline/"
	to = "/404.html"
	status = 404
	force = false

# Redirects main project link to index
[[redirects]]
	from = "https://dylangattey.com/projects/"
	to = "https://dylangattey.com/"
	status = 301
	force = true

# Redirects all projects to 404 page for now
[[redirects]]
	from = "https://dylangattey.com/projects/fppdx/"
	to = "/404.html"
	status = 404
	force = false
[[redirects]]
	from = "https://dylangattey.com/projects/connected-car-citizen/"
	to = "/404.html"
	status = 404
	force = false
[[redirects]]
	from = "https://dylangattey.com/projects/synergy-womens-health-care/"
	to = "/404.html"
	status = 404
	force = false


[[headers]]
	for = "/*"
	[headers.values]

	# Security headers
	X-Frame-Options = "DENY"
	X-XSS-Protection = "1; mode=block"
	Referrer-Policy = "no-referrer"
	X-Content-Type-Options = "nosniff"

	# Feature policies
	Feature-Policy = "unsized-media 'none'"
	Feature-Policy = "sync-xhr 'none'"
	Feature-Policy = "unoptimized-images 'none'"

	# Expect-CT to report uri
	Expect-CT = "max-age=0, report-uri=\"https://dgattey.report-uri.com/r/d/ct/reportOnly\""

	# Content security policies
	Content-Security-Policy = "upgrade-insecure-requests; block-all-mixed-content; disown-opener; reflected-xss block; report-uri https://dgattey.report-uri.com/r/d/csp/enforce; "
	Content-Security-Policy = "default-src 'self' https://dgattey.netlify.com/ https://d33wubrfki0l68.cloudfront.net/ https://*.typekit.net/ https://*.google-analytics.com/; "
	Content-Security-Policy = "img-src 'self' https://dgattey.netlify.com https://d33wubrfki0l68.cloudfront.net/ https://*.google-analytics.com/ https://www.google.com/ads/ https://stats.g.doubleclick.net/; "
	Content-Security-Policy = "script-src 'self' https://dgattey.netlify.com https://d33wubrfki0l68.cloudfront.net/ https://*.google-analytics.com/ 'sha256-AP5dd2QsbU3QOEJPw+ytEwxizO0kXXheCb4T/H9jz4I=' 'sha256-E0EZj2xhUMF2eiGjBZ7EEtOpOdVx9Ia2ykjanm799ww='; "
	Content-Security-Policy = "style-src 'self' https://dgattey.netlify.com https://d33wubrfki0l68.cloudfront.net/ https://*.typekit.net/; "
	Content-Security-Policy = "font-src 'self' https://dgattey.netlify.com https://d33wubrfki0l68.cloudfront.net/ https://*.typekit.net/; "
	Content-Security-Policy = "manifest-src 'self' https://dgattey.netlify.com https://d33wubrfki0l68.cloudfront.net/; "
